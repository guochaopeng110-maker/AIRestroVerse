# 需求文档

## 1. 产品愿景与定位

### 1.1 产品定义

一个基于 Web 的、聚合了从 1970 年代至今经典游戏复刻版的平台。所有游戏均由 AI 辅助生成，采用“单文件（Single-File）”技术栈，无需下载，即点即玩。

### 1.2 目标用户

- **怀旧玩家 (30-50岁)**: 寻找童年回忆，碎片化时间消遣。
- **极客与开发者**: 对 AI 编程能力感兴趣，想看源代码或 Prompt。
- **大众休闲用户**: 寻找简单的网页游戏摸鱼。
- **学生/教育者**: 了解计算机与游戏发展史。

### 1.3 核心价值主张 (Unique Value Proposition)

1. **时间胶囊体验**: 独创的“时间轴”导航，直观感受游戏进化史。
2. **极速秒开**: 零依赖、零加载、全平台适配。
3. **开源/教学**: 每个游戏不仅是玩物，更是 AI 编程的最佳范例（可查看 Prompt 或源码）。

## 2. 产品功能架构 (The Platform Shell)

我们要打造的不仅仅是一个列表，而是一个容器。

### 2.1 核心导航系统 (The Timeline)

- **视觉交互**:
    - 首页不展示传统的网格列表，而是一个**横向或纵向的时间轴 (Timeline)**。
    - 用户滑动时间轴，背景风格随年代变化（如：70s是黑白噪点，80s是霓虹像素，90s是Windows 95灰）。
- **年代节点**:
    - 点击年份（如 "1984"），展开该年份的代表作（如《俄罗斯方块》复刻版）。
    - 显示“历史小知识”：例如“1984年，俄罗斯方块诞生于苏联...”。

### 2.2 游戏详情/播放页 (The Console)

- **游戏容器**: 使用 iframe 隔离运行我们生成的单文件 HTML，确保安全且互不干扰。
- **控制台外壳**:
    - **PC端**: 页面两侧显示操作说明，甚至模拟街机摇杆的 UI 装饰。
    - **移动端**: 自动强制全屏，提供虚拟按键的触觉反馈（Haptic Feedback）。
- **开发者模式 (独特卖点)**:
    - 提供一个“查看咒语” (View Prompt) 按钮。用户可以看到生成这个游戏所使用的 AI 提示词（这是变现的关键点，见下文）。
    - 提供“下载源码”按钮。

### 2.3 游戏分类体系

除了时间轴，提供多维度筛选：

- **按类型**: 射击 (STG)、动作 (ACT)、解谜 (PUZ)、角色扮演 (RPG)。
- **按技术**: 纯 Canvas 2D、伪 3D (Raycasting)、文字冒险。

## 3. 自动化内容生产工作流 (Automated AIGC Pipeline)

为了解决选品和提示词差异化问题，采用“三层 AI 架构”，实现从发现到产出的全自动。

### 3.1 生产流程 (The Factory)

1. **Step 0: 策展人 AI (The Curator - 自动选品)**
    - **输入**: 年份 (如 "1985")。
    - **工具**: 访问 Wikipedia "1985 in video games" 或 IGDB API。
    - 过滤逻辑 (The Filter Rules):
        
        AI 必须依据以下规则对游戏进行评分（0-10），低于 7 分的直接丢弃：
        
        - **拒绝 (Reject)**:
            - 纯 3D 物理模拟类 (如微软模拟飞行)。
            - 强依赖预渲染视频 (FMV) 或电影化叙事的游戏 (如《交互式电影》)。
            - 纯多人在线游戏 (MMO) 且无法剥离出单人核心玩法的。
            - 极其依赖授权音乐的游戏 (如《吉他英雄》)。
        - **接受并降维 (Accept with Demake)**:
            - 街机动作类 (Arcade Action) -> 完美适合。
            - 早期 FPS (Doom-like) -> 转化为 Raycasting 引擎。
            - 回合制 RPG (Final Fantasy) -> 简化为纯战斗或迷宫探索模拟器。
            - 赛车游戏 -> 简化为伪 3D 赛道 (Outrun 风格)。
    - **产出**: 自动更新 `games.csv`，填入 `Year`, `GameName`, `CoreMechanic`, `DemakeStrategy` (降维策略建议)。
2. **Step 1: 架构师 AI (Prompt Generation)**
    - **角色**: 游戏设计师 Agent。
    - **输入**: 来自 CSV 的游戏信息 + **《技术限制白皮书》(见 3.3)**。
    - **任务**: 分析该游戏的核心逻辑，生成一份**针对该特定游戏的详细开发指令**。
    - **产出**: `raw_prompt.md` (包含：如“绘制黄色圆形的 Pac-Man，实现基于网格的寻路算法...”)。
3. **Step 2: 建造者 AI (Code Generation)**
    - **角色**: 全栈工程师 Agent。
    - **输入**: `raw_prompt.md`。
    - **任务**: 编写 HTML/JS 代码。
    - **产出**: `v0_index.html`。
4. **Step 3: 测试与结晶 (The Refinement Loop)**
    - **自动化测试**: 脚本检查 `v0_index.html` 是否包含语法错误，是否能运行。
    - **人工/AI 修复**: 如有 Bug，进行多轮对话修复。
    - **关键步骤 - 提示词结晶 (Crystallization)**: 代码完美后，要求 AI：“基于最终代码，反向生成一份能一步到位生成此代码的完美 Prompt”。
    - **最终产出**: `final_prompt.md` (高价值商品)。

### 3.2 数据存储结构 (Asset Bundle)

每个游戏在服务器/GitHub上是一个独立的文件夹，结构如下：

```
/games
  /1984_tetris
    ├── metadata.json       // 游戏元数据 (名称, 描述, 封面色值)
    ├── index.html          // 最终可玩的游戏文件 (免费用户可见)
    ├── final_prompt.md     // 结晶化的高价值提示词 (付费解锁)
    └── dev_log.md          // (可选) 原始调试记录，作为“幕后花絮”

```

### 3.3 技术限制白皮书 (Technical Constraints Whitepaper)

这是发送给 AI 的核心系统级指令，定义了产品的技术边界：

1. **Single-File Mandate (单文件铁律)**
    - 所有代码（HTML结构、CSS样式、JS逻辑）必须内嵌于唯一的 `index.html` 文件中。
    - **严禁**使用 `<link rel="stylesheet">` 或 `<script src="...">` 引用本地文件（CDN 库除外，仅限白名单库如 Three.js 或 Pixi.js，但在本项目中优先推荐纯 Canvas）。
2. **Zero External Assets (零外部资产)**
    - **严禁**使用 `<img>` 标签加载 `.png/.jpg` 文件。所有图形必须使用 Canvas API 绘制，或使用内嵌 SVG 字符串，或 Base64 编码（Base64 仅限极小图标）。
    - **严禁**使用 `<audio>` 标签加载 `.mp3/.wav` 文件。所有音效必须使用 `Web Audio API` (Oscillator) 实时合成。
3. **Mobile-First Interaction (移动优先交互)**
    - 必须检测 `ontouchstart` 事件。
    - 如果检测到移动端，必须在 Canvas 上覆盖绘制“虚拟摇杆”或“操作按钮”，或者实现全屏手势（如滑动移动、点击跳跃）。
    - 禁止依赖物理键盘（除非提供了虚拟键盘替代方案）。
4. **Responsive Viewport (响应式视口)**
    - 游戏逻辑分辨率与渲染分辨率分离。
    - Canvas 必须监听 `window.resize`，始终保持最大化填充屏幕，同时保持正确的纵横比（Aspect Ratio），两侧留黑边或装饰背景。

## 4. 流量与推广策略 (Growth)

### 4.1 SEO 霸屏策略 (长尾流量)

- **关键词布局**: 针对每个游戏建立独立落地页。
    - 核心词: "Play Space Invaders Online", "Tetris Free Web Version".
    - 长尾词: "How to code Snake in HTML", "AI generated retro games".
- **技术博客引流**: 在 Medium/掘金/知乎发布《我用 AI 复刻了 1990 年的所有游戏》，吸引开发者流量。

### 4.2 社交裂变

- **挑战模式**: 游戏结束时生成一张带有分数的复古海报（Canvas 生成图片），文案：“我的 AI 只有 3KB，却打败了 99% 的人类，来试试？”方便用户分享到朋友圈/Twitter。
- **开源共建**: 允许用户提交他们用 AI 生成的游戏代码，审核通过后上架“社区馆”。

## 5. 商业化变现模式 (Monetization)

结合技术特点，采用混合变现模式。

### 5.1 广告变现 (基础层)

- **插屏广告**: 游戏 Game Over 后，或点击“开始游戏”前，展示 5秒 插屏广告（AdSense/AdMob）。
- **页面广告**: 在游戏容器外围（模拟街机机箱的位置）展示不影响体验的 Banner 广告。

### 5.2 知识付费 (核心层 - 高利润)

我们不仅卖代码，更卖“AI 驾驭能力”。

- **产品 A: "The Golden Spell" (黄金咒语) - $0.99/个**
    - **内容**: `final_prompt.md`。
    - **解决痛点**: AI 生成具有随机性，用户自己尝试往往得到一堆 Bug。我们出售的是**“经过验证的、确定性的、能一步生成该游戏的完美提示词”**。
    - **用户价值**: 复制 -> 粘贴 -> 得到完美游戏。省去调试时间。
- **产品 B: "The Architect's Log" (架构师档案) - $4.99/个**
    - **内容**: `final_prompt.md` + `dev_log.md` (完整开发日志)。
    - **解决痛点**: 开发者想知道“当 AI 犯错时你是怎么修好的？”
    - **用户价值**: 包含原始对话记录、错误排查思路、降维策略的思考过程。这是高价值的 AI 编程教程。
- **产品 C: 源码会员 - 订阅制 ($9.99/月)**
    - 权益：下载全站所有游戏的源代码和 `final_prompt`，且拥有商业使用权（Resell Rights）。

### 5.3 定制服务

- **"把你的想法变成游戏"**: 开放一个高价入口（如 $50），用户输入想法，你（利用 AI）为他定制一个专属的 HTML 小游戏作为礼物。

## 6. 开发路线图 (Roadmap)

### Phase 1: 原型与商业验证 (MVP & Validation) - 第 1-3 周

- **核心目标**: 验证“结晶化 Prompt”是否有人买单，建立手动生产标准。
- **内容**:
    - **人工打样**: 手动使用 AI 完整复刻 5-10 款跨年代（70s, 80s, 90s）代表作。
    - **网站搭建**: 完成时间轴首页 + 游戏容器，集成支付网关（LemonSqueezy 或 Stripe）。
    - **产品上架**: 上架 "Golden Spell"（黄金咒语）作为单买商品。
    - **流量冷启动**: 在 Hacker News / Reddit / V2EX 发布首发帖。

### Phase 2: AI 工厂流水线搭建 (The Factory) - 第 1-2 个月

- **核心目标**: 消除人工瓶颈，实现“策展-生成-上架”的半自动化。
- **内容**:
    - **开发 Agent 脚本**: 编写 Python/Node.js 脚本，串联 Wikipedia API -> LLM (策展人) -> LLM (架构师)。
    - **标准化 Asset Bundle**: 建立 GitHub 仓库结构，实现 `git push` 自动触发网站更新。
    - **档案系统**: 实现自动记录开发日志的功能，为售卖“架构师档案”做数据准备。

### Phase 3: 社区化与规模化 (Community & Scale) - 第 3 个月+

- **核心目标**: 引入 UGC（用户生成内容），建立订阅制收入。
- **内容**:
    - **开放投稿**: 允许用户上传自己生成的单文件游戏，审核通过后获得分润。
    - **会员系统上线**: 推出全站源码订阅会员 ($9.99/mo)。
    - **PWA 移动端优化**: 支持“添加到主屏幕”，离线游玩已缓存的游戏。